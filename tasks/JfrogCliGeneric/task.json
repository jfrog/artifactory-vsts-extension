{
  "id": "696edde6-8d8b-4531-b93b-531030fa7199",
  "name": "JfrogCliGeneric",
  "friendlyName": "JFrog CLI",
  "description": "Run your own JFrog CLI command.",
  "author": "JFrog",
  "category": "Tool",
  "helpMarkDown": "[Learn more about JFrog CLI capabilities](https://www.jfrog.com/confluence/display/CLI/CLI+for+JFrog+Artifactory)",
  "visibility": [
    "Build",
    "Release"
  ],
  "version": {
    "Major": "1",
    "Minor": "9",
    "Patch": "4"
  },
  "demands": [],
  "minimumAgentVersion": "1.89.0",
  "instanceNameFormat": "JFrog CLI",
  "inputs": [
    {
      "name": "artifactoryService",
      "type": "connectedService:artifactoryService",
      "label": "Artifactory service",
      "defaultValue": "",
      "required": true,
      "helpMarkDown": "Artifactory service to run the command against."
    },
    {
      "name": "useCustomVersion",
      "type": "boolean",
      "label": "Run custom version",
      "defaultValue": "false",
      "required": false,
      "helpMarkDown": "Select to determine a specific JFrog CLI version to be used."
    },
    {
      "name": "cliVersion",
      "type": "string",
      "label": "Version",
      "defaultValue": "$(jfrogCliVersion)",
      "required": true,
      "visibleRule": "useCustomVersion = true",
      "helpMarkDown": "Specify the version of JFrog CLI to run, in form of X.Y.Z\nYou can set the $(jfrogCliVersion) environment variable to use a specific version along the pipeline for different tasks."
    },
    {
      "name": "command",
      "type": "multiLine",
      "label": "Command to run",
      "defaultValue": "jfrog rt <COMMAND>",
      "required": true,
      "helpMarkDown": "Enter your command command after 'jfrog rt '. There is no need to provide the url and credentials options.",
      "validation": {
        "expression": "isMatch(value, '^jfrog rt ', 'IgnoreCase')",
        "message": "The command must start with `jfrog rt `."
      }
    }
  ],
  "execution": {
    "Node": {
      "target": "jfrogCliGeneric.js",
      "workingDirectory": "$(currentDirectory)"
    }
  }
}